<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hyper eXkeSS eXkeSS eXkeSS</title>
</head>
<body>
    <center>
    <h2>Babaji will send you Hyper eXkeSS eXkeSS eXkeSS into your home.</h2>
    <!-- Insert GIF -->
    <div class="tenor-gif-embed" data-postid="24785659" data-share-method="host" data-aspect-ratio="0.5625" data-width="20%">
        <a href="https://tenor.com/view/lucitik-fortiniti-gif-24785659">Lucitik Fortiniti GIF</a> from 
        <a href="https://tenor.com/search/lucitik-gifs">Lucitik GIFs</a>
    </div> 
    <script type="text/javascript" async src="https://tenor.com/embed.js"></script><br>
    
    <form id="nameForm">
        <label for="name">Input your name:</label>
        <input type="text" id="name" name="name">
        <input type="submit" value="Submit">
    </form>

    <p id="displayName"></p>

    <script>
        function sanitizeTextField(input) {
            return input.replace(/(<|>|'|javascript:|onmouseover|onload|onerror)/gi, "");
        }

        function getQueryParam(param) {
            let urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }

        function setQueryParam(param, value) {
            let url = new URL(window.location.href);
            url.searchParams.set(param, value);
            window.history.replaceState(null, null, url);
        }

        window.onload = function() {
            let name = getQueryParam('name');
            if (name) {
                name = sanitizeTextField(name);
                document.getElementById('name').outerHTML = `<input type="text" id="name" name="name" value="${name}">`;
                document.getElementById('displayName').textContent = "Dont worry Hyper ekes ekes ekes will be sent ASAP, " + name + "!";
            }
        };

        document.getElementById('nameForm').onsubmit = function(event) {
            event.preventDefault();
            let name = document.getElementById('name').value;
            if (name) {
                name = sanitizeTextField(name);
                setQueryParam('name', name);
                document.getElementById('name').outerHTML = `<input type="text" id="name" name="name" value="${name}">`;
                document.getElementById('displayName').textContent = "Dont worry Hyper eXkeSS eXkeSS eXkeSS will be sent ASAP, " + name + "!";
            }
        };

    </script>
</body>
</html>
