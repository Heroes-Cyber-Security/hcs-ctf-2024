#include <stdio.h>
#include <signal.h>
#include <sys/types.h>
#include <unistd.h>
#include <wait.h>

void setup()
{
    setbuf(stdin, NULL);
    setbuf(stdout, NULL);
    setbuf(stderr, NULL);
}

void win()
{
    puts("HCS{ipc_moment,anyway_here_is_a_more_detailed_explanation_on_signals_https://youtu.be/d0gS5TXarXc?si=UiDP8gGHb57y5UlT,ty_for_solving}");
    _exit(1337);
}

int main()
{
    setup();
    signal(22, win);
    pid_t pid = fork();
    if (pid == 0)
    {
        puts("Initiating Tsuki...");
        execve("./child", NULL, NULL);
    }
    else
    {
        waitpid(pid, NULL, 0);
        _exit(0);
    }
}