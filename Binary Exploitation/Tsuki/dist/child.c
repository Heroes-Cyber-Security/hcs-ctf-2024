#include <stdio.h>
#include <string.h>
#include <seccomp.h>
#include <unistd.h>

void setup()
{
    setbuf(stdin, NULL);
    setbuf(stdout, NULL);
    setbuf(stderr, NULL);
}

void seccomp_setup()
{
    scmp_filter_ctx ctx;
    ctx = seccomp_init(SCMP_ACT_ALLOW);
    seccomp_rule_add(ctx, SCMP_ACT_KILL, SCMP_SYS(execve), 0);
    seccomp_rule_add(ctx, SCMP_ACT_KILL, SCMP_SYS(execveat), 0);
    seccomp_load(ctx);
}

int main(int argc, char const *argv[])
{
    setup();
    seccomp_setup();
    printf("ye> ");
    char buf[4];
    gets(buf);
    puts("nais ingfo");
    return 0;
}
